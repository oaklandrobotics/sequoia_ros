<?xml version="1.0"?>
<launch>

  <include file="$(find self_drive_tasks_gazebo)/launch/q2_gazebo.launch" />

  <include file="$(find sequoia_twist_controller)/launch/sequoia_twist_controller.launch" />

  <node pkg="lidar_stop_trigger" type="lidar_stop_trigger" name="lidar_stop_trigger" output="screen" >
    <remap from="scan" to="/laser/scan_filtered" />
  </node>
  
  <node ns="laser" pkg="laser_filters" type="scan_to_scan_filter_chain" name="scan_filter" output="screen" respawn="true" >
    <rosparam file="$(find sequoia_nav_laser)/yaml/laser_filter_params.yaml" />
  </node>

  <node pkg="task_nodes" type="task_q2" name="task_q2" output="screen" >
    <remap from="cmd_vel" to="/vehicle/cmd_vel" />
  </node>

  <node ns="camera_sim" pkg="sequoia_lane_detection" type="lane_detection_node" name="lane_detection_node" output="screen" />

</launch>
